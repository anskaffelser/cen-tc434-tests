<?xml version="1.0" encoding="UTF-8"?>
<testSet xmlns="http://difi.no/xsd/vefa/validator/1.0" configuration="tc434-ubl">
	<assert>
		<scope>BR-M-04</scope>

	</assert>

	<test>
		<assert>
			<description>Verify that an Invoice that contains a document level charge where the Invoiced item VAT category code is “M” 
				shall contain the Sellers VAT Identifier, the Seller Tax registration identifier or the Seller tax representative VAT identifier.</description>
			<success>BR-M-04</success>

		</assert>
		<Invoice
			xmlns:cac="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2"
			xmlns:cbc="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2"
			xmlns="urn:oasis:names:specification:ubl:schema:xsd:Invoice-2">
			<cac:AccountingSupplierParty>
				<cac:Party>
					<cac:PartyTaxScheme>
						<cbc:CompanyID>NO123456789</cbc:CompanyID>
					</cac:PartyTaxScheme>
				</cac:Party>
			</cac:AccountingSupplierParty>

			<cac:AllowanceCharge>
				<cbc:ChargeIndicator>true</cbc:ChargeIndicator>
				<cac:TaxCategory>
					<cbc:ID>M</cbc:ID>
				</cac:TaxCategory>
			</cac:AllowanceCharge>
		</Invoice>
	</test>

	<test>
		<assert>
			<description>Verify that an Invoice that contains a document level charge where the Invoiced item VAT category code is “M” shall contain the Sellers VAT Identifier, the Seller Tax registration identifier or the Seller tax representative VAT identifier.</description>
			<success>BR-M-04</success>
			
		</assert>
		<Invoice
			xmlns:cac="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2"
			xmlns:cbc="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2"
			xmlns="urn:oasis:names:specification:ubl:schema:xsd:Invoice-2">

			<cac:TaxRepresentativeParty>
				<cac:PartyTaxScheme>
					<cbc:CompanyID>999999999MVA</cbc:CompanyID>
				</cac:PartyTaxScheme>
			</cac:TaxRepresentativeParty>
			
			<cac:AllowanceCharge>
				<cbc:ChargeIndicator>true</cbc:ChargeIndicator>
				<cac:TaxCategory>
					<cbc:ID>M</cbc:ID>
				</cac:TaxCategory>
			</cac:AllowanceCharge>
		</Invoice>
	</test>
	
	<test>
		<assert>
			<description>Trigger error if an Invoice that contains a document level charge where the Invoiced item VAT category code is “M” does not contain the Sellers VAT Identifier, the Seller Tax registration identifier or the Seller tax representative VAT identifier.</description>
			<error>BR-M-04</error>
			
		</assert>
		<Invoice
			xmlns:cac="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2"
			xmlns:cbc="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2"
			xmlns="urn:oasis:names:specification:ubl:schema:xsd:Invoice-2">
			
			<!--<cac:TaxRepresentativeParty>
				<cac:PartyTaxScheme>
					<cbc:CompanyID>999999999MVA</cbc:CompanyID>
				</cac:PartyTaxScheme>
			</cac:TaxRepresentativeParty>-->
			
			<cac:AllowanceCharge>
				<cbc:ChargeIndicator>true</cbc:ChargeIndicator>
				<cac:TaxCategory>
					<cbc:ID>M</cbc:ID>
				</cac:TaxCategory>
			</cac:AllowanceCharge>
		</Invoice>
	</test>
	<test>
		<assert>
			<description>Trigger error if an Invoice that contains a document level charge where the Invoiced item VAT category code is “M” does not contain the Sellers VAT Identifier, the Seller Tax registration identifier or the Seller tax representative VAT identifier.</description>
			<error>BR-M-04</error>
			
		</assert>
		<Invoice
			xmlns:cac="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2"
			xmlns:cbc="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2"
			xmlns="urn:oasis:names:specification:ubl:schema:xsd:Invoice-2">
			
			<cac:TaxRepresentativeParty>
				<!--<cac:PartyTaxScheme>
					<cbc:CompanyID>999999999MVA</cbc:CompanyID>
				</cac:PartyTaxScheme>-->
			</cac:TaxRepresentativeParty>
			
			<cac:AllowanceCharge>
				<cbc:ChargeIndicator>true</cbc:ChargeIndicator>
				<cac:TaxCategory>
					<cbc:ID>M</cbc:ID>
				</cac:TaxCategory>
			</cac:AllowanceCharge>
		</Invoice>
	</test>
	<test>
		<assert>
			<description>Trigger error if an Invoice that contains a document level charge where the Invoiced item VAT category code is “M” does not contain the Sellers VAT Identifier, the Seller Tax registration identifier or the Seller tax representative VAT identifier.</description>
			<error>BR-M-04</error>
			
		</assert>
		<Invoice
			xmlns:cac="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2"
			xmlns:cbc="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2"
			xmlns="urn:oasis:names:specification:ubl:schema:xsd:Invoice-2">
			
			<cac:TaxRepresentativeParty>
				<cac:PartyTaxScheme>
<!--					<cbc:CompanyID>999999999MVA</cbc:CompanyID>-->
				</cac:PartyTaxScheme>
			</cac:TaxRepresentativeParty>
			
			<cac:AllowanceCharge>
				<cbc:ChargeIndicator>true</cbc:ChargeIndicator>
				<cac:TaxCategory>
					<cbc:ID>M</cbc:ID>
				</cac:TaxCategory>
			</cac:AllowanceCharge>
		</Invoice>
	</test>
	<test>
		<assert>
			<description>Trigger error if an Invoice that contains a document level charge where the Invoiced item VAT category code is “M” does not contain the Sellers VAT Identifier, the Seller Tax registration identifier or the Seller tax representative VAT identifier.</description>
			<error>BR-M-04</error>
			
		</assert>
		<Invoice
			xmlns:cac="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2"
			xmlns:cbc="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2"
			xmlns="urn:oasis:names:specification:ubl:schema:xsd:Invoice-2">
			<cac:AccountingSupplierParty>
				<cac:Party>
<!--					<cac:PartyTaxScheme>
						<cbc:CompanyID>NO123456789</cbc:CompanyID>
					</cac:PartyTaxScheme>-->
				</cac:Party>
			</cac:AccountingSupplierParty>
			
			<cac:AllowanceCharge>
				<cbc:ChargeIndicator>true</cbc:ChargeIndicator>
				<cac:TaxCategory>
					<cbc:ID>M</cbc:ID>
				</cac:TaxCategory>
			</cac:AllowanceCharge>

		</Invoice>
	</test>
	<test>
		<assert>
			<description>Trigger error if an Invoice that contains a document level charge where the Invoiced item VAT category code is “M” does not contain the Sellers VAT Identifier, the Seller Tax registration identifier or the Seller tax representative VAT identifier.</description>
			<error>BR-M-04</error>
			
		</assert>
		<Invoice
			xmlns:cac="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2"
			xmlns:cbc="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2"
			xmlns="urn:oasis:names:specification:ubl:schema:xsd:Invoice-2">
			<cac:AccountingSupplierParty>
				<cac:Party>
					<cac:PartyTaxScheme>
<!--						<cbc:CompanyID>NO123456789</cbc:CompanyID>-->
					</cac:PartyTaxScheme>
				</cac:Party>
			</cac:AccountingSupplierParty>
			
			<cac:AllowanceCharge>
				<cbc:ChargeIndicator>true</cbc:ChargeIndicator>
				<cac:TaxCategory>
					<cbc:ID>M</cbc:ID>
				</cac:TaxCategory>
			</cac:AllowanceCharge>
			
		</Invoice>
	</test>
</testSet>
